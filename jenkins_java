pipeline{
  agent any

  tools{
    sh 'sudo apt install openjdk-21-jdk'
    jdk 'jdk21'
  }

  stages{
    stage('Checkout'){
      steps{
        git branch: 'main', url: 'https://github.com/Mayur-Hambar/DevOps_Lab' 
      }
    }

    stage('Compile'){
      steps {
        echo 'Compiling the Java program...'
        sh 'javac HelloRITians.java'
      }
    }

    stage('Run'){
      steps{
        echo 'Running the Java program...'
        sh 'java HelloRITians'
      }
    }
  }

  post{
    success{
      echo 'Build and execution successful..'
    }
    failure{
      echo 'Build failed..'
    }
  }
}
